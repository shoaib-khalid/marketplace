<!-- Title -->
<ng-container *ngIf="stores && stores.length">
    <div class="flex flex-row items-center justify-between w-full mt-4">
        <span class="font-semibold text-xl">{{title}}</span>
        <span *ngIf="stores.length > 5 || stores.length === 1" [routerLink]="'/store/'" class="font-semibold text-primary cursor-pointer hover:text-primary-600">View All</span>
    </div>
</ng-container>

<!-- Featured Store -->
<ng-container *ngIf="stores && stores.length === 1">
    <fuse-card
        (click)="chooseStore(stores[0].storeDetails.domain)" 
        class="flex flex-row rounded-lg border border-gray-300 cursor-pointer filter-article">
        <img
            class="object-fit h-26 w-26 p-2"
            [src]="stores[0].storeDetails.storeAsset ? stores[0].storeDetails.storeAsset.logoUrl : platform.logo">
        <div class="flex flex-col m-2 font-semibold">
            <span class="group-hover:text-primary text-lg line-clamp-1">{{stores[0].storeDetails.name}}</span>
            <span class="group-hover:text-primary font-medium">{{stores[0].storeDetails.state}}</span>
            <p class="flex flex-row text-black font-normal text-sm line-clamp-3 mt-1" [innerHTML]="stores[0].storeDetails.storeDescription"></p>
        </div>
    </fuse-card>
</ng-container>

<!-- Featured Stores -->
<ng-container *ngIf="stores && stores.length > 1">
    <div class="grid grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-2 sm:gap-3 w-full mt-2 sm:mt-4">
        <ng-container *ngFor="let store of stores">
            <fuse-card
                (click)="chooseStore(store.storeDetails.domain)" 
                class="flex flex-col rounded-lg border border-gray-300 h-60 cursor-pointer filter-article">
                <img
                    class="object-fit h-26 p-2 shadow"
                    [src]="store.storeDetails.storeAsset ? store.storeDetails.storeAsset.logoUrl : platform.logo">
                <div class="flex flex-col m-2 font-semibold">
                    <span class="group-hover:text-primary text-lg line-clamp-1">{{store.storeDetails.name}}</span>
                    <span class="group-hover:text-primary text-gray-600 font-normal">{{store.storeDetails.state}}</span>
                    <p class="flex flex-row text-gray-400 font-normal text-sm line-clamp-3 mt-1" [innerHTML]="store.storeDetails.storeDescription"></p>
                </div>
            </fuse-card>
        </ng-container>
    </div>
</ng-container>
