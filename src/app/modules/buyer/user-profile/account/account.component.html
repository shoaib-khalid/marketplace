<div class="w-full max-w-3xl">

    <!-- Form -->
    <form [formGroup]="accountForm">

        <!-- Section -->
        <div class="w-full">
            <div class="text-xl">Personal Information</div>
            <div class="text-secondary">Communication details in case we want to connect with you. These will be kept private.</div>
        </div>
        <div class="grid sm:grid-cols-4 gap-6 w-full mt-8">
            <!-- Email -->
            <div class="sm:col-span-4">
                <mat-form-field class="fuse-mat-emphasized-affix w-full">
                    <mat-label>Email</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:mail'"
                        matPrefix></mat-icon>
                    <input
                        readonly
                        [formControlName]="'email'"
                        matInput>
                </mat-form-field>
            </div>

            <!-- Username -->
            <div class="sm:col-span-4">
            <mat-form-field class="fuse-mat-emphasized-affix w-full">
                <mat-label>Username</mat-label>
                <mat-icon
                    class="icon-size-5"
                    [svgIcon]="'heroicons_solid:mail'"
                    matPrefix></mat-icon>
                <input
                    readonly
                    [formControlName]="'username'"
                    matInput>
            </mat-form-field>
            </div>
            <!-- Email -->
            <div class="sm:col-span-4">
                <mat-form-field class="fuse-mat-emphasized-affix w-full">
                    <mat-label>Name</mat-label>
                    <mat-icon
                        class="icon-size-5"
                        [svgIcon]="'heroicons_solid:mail'"
                        matPrefix></mat-icon>
                    <input
                        [formControlName]="'name'"
                        matInput>
                </mat-form-field>
            </div>
        </div>

        <!-- Actions -->
        <div class="flex items-center justify-end py-4">
            <!-- <button
                class="ml-4"
                mat-flat-button
                type="button"
                (click)="closeDialog()">
                Cancel
            </button> -->
            <button
                class="ml-4"
                mat-flat-button
                type="button"
                (click)="updateClientProfile()"
                [color]="'primary'">Save
            </button>
        </div>

        <!-- Divider -->
        <div class="mt-4 mb-8 border-t"></div>
        <!-- Section -->
        <div class="flex flex-row w-full">
            <div class="flex flex-col w-2/3">
                <div class="text-xl">Address</div>
                <div class="text-secondary">Set the delivery address</div>
            </div>
            <div class="flex items-center justify-end w-1/3">

                <button
                mat-flat-button
                type="button"
                (click)="addAddress()"
                [color]="'primary'">Add Address
                </button>
            </div>
        </div>

        <ng-container *ngIf="(customersAddress$| async) as customer" >
            <div class="flex flex-col bg-white mt-8">
                <div class="flex flex-col p-4 border-b" *ngFor="let customer of customer;let i = index;">
                    <div class="flex flex-row">
                        
                        <div class="flex flex-col text-secondary w-5/6">
                            
                            <div class="flex flex-row">
                                <div class="w-2/6">
                                    Full Name
                                </div>
                                <div class="w-3/6">
                                    {{customer.name}}
                                </div>
                            </div>
                            
                            <div class="flex flex-row">
                                <div class="w-2/6">
                                    Phone No
                                </div>
                                <div class="w-3/6">
                                    {{customer.phoneNumber}}
                                </div>
                            </div>
    
                            <div class="flex flex-row">
                                <div class="w-2/6">
                                    Address
                                </div>
                                <div class="w-3/6">
                                    {{customer.address}}
                                </div>
                            </div>
    
                        </div>
    
                        <div class="text-secondary w-1/6 items-center">
                            <div class="flex flex-col w-full">
                                <button
                                mat-flat-button
                                (click)="editAddress(customer)">
                                <p class="underline underline-offset-2">Edit</p>
                                </button>
                                <button
                                mat-flat-button
                                *ngIf = "!customer.isDefault"
                                (click)="deleteAddress(customer.id)"
                                >
                                <p class="underline underline-offset-2">Delete</p>
                                </button>
                                <button
                                *ngIf = "!customer.isDefault"
                                (click)="setAsDefault(customer)"
                                mat-flat-button
                                >
                                <p class="underline underline-offset-2">Default</p>
                                </button>
                            </div>
                        
                        </div>
    
                    </div>
                    
                </div>
            </div>
        </ng-container>
    
    </form>

</div>
